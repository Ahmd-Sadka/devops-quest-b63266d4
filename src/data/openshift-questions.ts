import { Question } from '@/types/game';

export const openshiftQuestions: Question[] = [
  {
    id: 'os-001',
    levelId: 'openshift',
    difficulty: 'easy',
    question: 'What is OpenShift built on top of?',
    options: ['Docker Swarm', 'Kubernetes', 'Mesos', 'Nomad'],
    correctAnswer: 1,
    explanation: 'OpenShift is Red Hat\'s enterprise Kubernetes platform with additional features for developers and operations.',
    wrongFeedback: ['Not Docker Swarm.', 'Correct! K8s foundation.', 'Not Mesos.', 'Not Nomad.'],
    xpReward: 10,
    tags: ['basics', 'architecture'],
  },
  {
    id: 'os-002',
    levelId: 'openshift',
    difficulty: 'easy',
    question: 'What is the OpenShift equivalent of kubectl?',
    options: ['osh', 'occtl', 'oc', 'oshift'],
    correctAnswer: 2,
    explanation: 'The "oc" command is OpenShift\'s CLI tool, compatible with kubectl commands plus OpenShift-specific features.',
    wrongFeedback: ['Not a command.', 'Not correct.', 'Correct! oc is the CLI.', 'Not valid.'],
    xpReward: 10,
    tags: ['cli', 'basics'],
  },
  {
    id: 'os-003',
    levelId: 'openshift',
    difficulty: 'medium',
    question: 'What is an OpenShift "Route"?',
    options: ['Internal service DNS', 'External URL exposure for services', 'Network routing table', 'Pod communication path'],
    correctAnswer: 1,
    explanation: 'Routes expose services externally with a URL, similar to Kubernetes Ingress but OpenShift-native.',
    wrongFeedback: ['Services handle internal DNS.', 'Correct! Routes expose services.', 'Not networking level.', 'Services handle that.'],
    xpReward: 20,
    tags: ['routes', 'networking'],
  },
  {
    id: 'os-004',
    levelId: 'openshift',
    difficulty: 'medium',
    question: 'What is a BuildConfig in OpenShift?',
    options: ['Compiler settings', 'Definition of how to build container images', 'Node configuration', 'Storage settings'],
    correctAnswer: 1,
    explanation: 'BuildConfig defines the build process, including source, strategy (Docker, S2I), and output image.',
    wrongFeedback: ['Not compilation.', 'Correct! Defines image builds.', 'Nodes are separate.', 'Storage is different.'],
    xpReward: 20,
    tags: ['buildconfig', 'builds'],
  },
  {
    id: 'os-005',
    levelId: 'openshift',
    difficulty: 'medium',
    question: 'What is Source-to-Image (S2I)?',
    options: ['Screenshot tool', 'Build tool that creates images from source code', 'Storage interface', 'Service mesh'],
    correctAnswer: 1,
    explanation: 'S2I is a toolkit for building reproducible container images from source code without writing Dockerfiles.',
    wrongFeedback: ['Not screenshots.', 'Correct! Source to container images.', 'Not storage.', 'Not service mesh.'],
    xpReward: 20,
    tags: ['s2i', 'builds'],
  },
  {
    id: 'os-006',
    levelId: 'openshift',
    difficulty: 'hard',
    question: 'What is the purpose of a DeploymentConfig vs Deployment in OpenShift?',
    options: ['No difference', 'DeploymentConfig has triggers and lifecycle hooks', 'Deployment is deprecated', 'DeploymentConfig is for stateful apps'],
    correctAnswer: 1,
    explanation: 'DeploymentConfig (OpenShift-native) has triggers for automatic deploys on image/config changes and lifecycle hooks.',
    wrongFeedback: ['There are differences.', 'Correct! DC has extra features.', 'Both are valid.', 'StatefulSets for stateful.'],
    xpReward: 35,
    tags: ['deploymentconfig', 'deployments'],
  },
  {
    id: 'os-007',
    levelId: 'openshift',
    difficulty: 'hard',
    question: 'What does "oc adm policy add-scc-to-user anyuid -z myserviceaccount" do?',
    options: ['Adds user to cluster', 'Grants anyuid SCC to service account for running as any user', 'Creates admin policy', 'Adds security certificate'],
    correctAnswer: 1,
    explanation: 'This grants the "anyuid" Security Context Constraint to a service account, allowing containers to run as any user ID.',
    wrongFeedback: ['Not user management.', 'Correct! SCC allows anyuid.', 'Not creating policy.', 'Not certificates.'],
    xpReward: 35,
    tags: ['scc', 'security'],
  },
  {
    id: 'os-008',
    levelId: 'openshift',
    difficulty: 'hard',
    question: 'What is an ImageStream in OpenShift?',
    options: ['Video streaming service', 'Pointer to container images with tracking and triggers', 'Log streaming', 'Real-time image processing'],
    correctAnswer: 1,
    explanation: 'ImageStreams are pointers to container images that track changes and can trigger rebuilds/redeploys.',
    wrongFeedback: ['Not video.', 'Correct! Image references with tracking.', 'Not logs.', 'Not processing.'],
    xpReward: 35,
    tags: ['imagestream', 'images'],
  },
  {
    id: 'os-009',
    levelId: 'openshift',
    difficulty: 'evil',
    question: 'Pod fails with "unable to validate against any security context constraint". What\'s the issue?',
    code: 'securityContext:\n  runAsUser: 0\n  privileged: true',
    options: ['Missing image pull secret', 'Pod requires elevated SCC but service account doesn\'t have it', 'Node is cordoned', 'Resource quota exceeded'],
    correctAnswer: 1,
    explanation: 'OpenShift SCCs restrict privileged operations. The service account needs privileged or custom SCC.',
    wrongFeedback: ['Pull secrets show different error.', 'Correct! SCC restriction.', 'Different error.', 'Different error.'],
    xpReward: 50,
    tags: ['scc', 'troubleshooting', 'security'],
  },
  {
    id: 'os-010',
    levelId: 'openshift',
    difficulty: 'evil',
    question: 'Build keeps using old base image despite ImageStream update. BuildConfig strategy is Docker. Why?',
    options: ['Docker caching', 'ImageStream not linked to BuildConfig', 'Need to trigger rebuild manually', 'Registry is caching'],
    correctAnswer: 1,
    explanation: 'Docker strategy doesn\'t automatically use ImageStream triggers. Use S2I strategy or reference imageStreamTag in Dockerfile FROM.',
    wrongFeedback: ['Not local caching.', 'Correct! Docker strategy needs explicit linking.', 'Triggers should work if linked.', 'Not registry caching.'],
    xpReward: 50,
    tags: ['builds', 'imagestream', 'troubleshooting'],
  },
  {
    id: 'os-011',
    levelId: 'openshift',
    difficulty: 'easy',
    question: 'How do you switch between OpenShift projects?',
    options: ['oc switch project-name', 'oc project project-name', 'oc use project-name', 'oc set project-name'],
    correctAnswer: 1,
    explanation: 'oc project <name> switches to a different project (namespace) context.',
    wrongFeedback: ['Not valid.', 'Correct! oc project switches.', 'Not the command.', 'Not valid.'],
    xpReward: 10,
    tags: ['cli', 'projects'],
  },
  {
    id: 'os-012',
    levelId: 'openshift',
    difficulty: 'medium',
    question: 'What is the OpenShift web console?',
    options: ['Command line interface', 'Web-based GUI for cluster management', 'Log viewer only', 'Monitoring dashboard only'],
    correctAnswer: 1,
    explanation: 'The web console is a GUI for managing applications, viewing logs, metrics, and administering the cluster.',
    wrongFeedback: ['That\'s oc command.', 'Correct! Web-based management.', 'Much more than logs.', 'Full management GUI.'],
    xpReward: 20,
    tags: ['console', 'gui'],
  },
  {
    id: 'os-013',
    levelId: 'openshift',
    difficulty: 'hard',
    question: 'What is an Operator in OpenShift?',
    options: ['Cluster administrator role', 'Kubernetes controller that manages complex applications', 'CLI command category', 'Arithmetic function'],
    correctAnswer: 1,
    explanation: 'Operators are Kubernetes controllers that encode operational knowledge for managing complex applications.',
    wrongFeedback: ['Admins are different.', 'Correct! Controllers for app management.', 'Not CLI commands.', 'Not arithmetic.'],
    xpReward: 35,
    tags: ['operators', 'management'],
  },
  {
    id: 'os-014',
    levelId: 'openshift',
    difficulty: 'evil',
    question: 'Route shows "503 Service Unavailable" but pods are running and service endpoints exist. What to check?',
    options: ['DNS configuration', 'Service port matches container port and route targets correct service', 'Node firewall', 'Registry availability'],
    correctAnswer: 1,
    explanation: 'Verify: route targetPort matches service port, service selector matches pod labels, and container listens on correct port.',
    wrongFeedback: ['DNS would show different error.', 'Correct! Port/selector misconfig.', 'Node issue shows different.', 'Not registry related.'],
    xpReward: 50,
    tags: ['routes', 'services', 'troubleshooting'],
  },
  {
    id: 'os-boss',
    levelId: 'openshift',
    difficulty: 'evil',
    question: 'üèÜ BOSS BATTLE: After cluster upgrade, multiple apps fail. Pods crash with "Error: container has runAsNonRoot and image has non-numeric user". What happened?',
    options: ['Image registry is down', 'Upgraded SCCs now enforce runAsNonRoot stricter', 'Cluster networking broken', 'etcd corruption'],
    correctAnswer: 1,
    explanation: 'Cluster upgrades can change default SCCs. The restricted SCC now enforces numeric UIDs. Update images or SCC assignments.',
    wrongFeedback: ['Would show pull errors.', 'Correct! SCC policy changes on upgrade.', 'Different symptoms.', 'Different errors.'],
    xpReward: 100,
    tags: ['boss', 'upgrade', 'scc', 'troubleshooting'],
    isBoss: true,
  },
];
